# Configuracao do Servidor - Docomomo Brasil
# Ultima atualizacao: 2026-01-13

acesso:
  ftp:
    host: ftp.app.docomomobrasil.com
    user: app
    pass: King@123

  ssh:
    host: ftp.app.docomomobrasil.com
    user: app
    pass: King@123
    status: "NAO FUNCIONA (tentar com provedor)"

  url_publica: https://app.docomomobrasil.com
  url_pilotis: https://pilotis.docomomobrasil.com  # A CRIAR

estrutura_servidor:
  home: /home/app
  www: /home/app/www  # Document root
  apps_wsgi: /home/app/apps_wsgi
  dados_privados: /home/app/dados_privados  # CRIAR - fora do www
  error_log: /home/app/error.log

tecnologias_disponiveis:
  php: "8.3"
  python: "via mod_wsgi (WSGI)"
  wsgi: true
  asgi: false  # FastAPI usa ASGI - usamos a2wsgi para adaptar

deploy_pilotis:
  estrutura:
    - /apps_wsgi/pilotis/pilotis.wsgi    # Entry point WSGI
    - /apps_wsgi/pilotis/.env            # Configuracoes
    - /apps_wsgi/pilotis/pilotis/        # Pacote Python
    - /apps_wsgi/pilotis/scripts/        # Scripts admin
    - /dados_privados/pilotis.db         # Banco de dados

  arquivos_prontos:
    - deploy/pilotis.wsgi      # Arquivo WSGI com adaptador a2wsgi
    - deploy/.env.producao     # Template de configuracao
    - deploy/DEPLOY.md         # Instrucoes completas
    - deploy/preparar_deploy.sh # Script para preparar upload

pendente_provedor:
  - criar_subdominio: pilotis.docomomobrasil.com
  - configurar_vhost: |
      Apache VHost apontando para:
      - WSGIScriptAlias / /home/app/apps_wsgi/pilotis/pilotis.wsgi
      - Alias /static /home/app/apps_wsgi/pilotis/pilotis/static
  - python_version: "Confirmar Python 3.10+ para mod_wsgi"
  - instalar_pacotes: "pip install -r requirements.txt"
  - criar_diretorio: /home/app/dados_privados (com permissoes)
  - habilitar_ssh: "Para gerenciamento da aplicacao"

contato:
  provedor_direto: KingHost
  contrato: Labasoft (revendedor)
  nota: "Pedir configuracoes para Labasoft, nao direto para KingHost"
