{% extends "base.html" %}

{% block content %}
<article>
    <header>
        <h1>Filiacao Docomomo Brasil {{ ano }}</h1>
        <p>Preencha ou atualize seus dados para prosseguir com a filiacao.</p>
    </header>

    {% if pagamento_existente and pagamento_existente.status == 'pago' %}
    <aside>
        <p><strong>Sua filiacao {{ ano }} ja esta confirmada!</strong></p>
    </aside>
    {% endif %}

    <form method="post">
        <fieldset>
            <legend>Dados Pessoais</legend>

            <label for="nome">
                Nome completo *
                <input type="text" id="nome" name="nome" value="{{ cadastrado.nome }}" required>
            </label>

            <label for="email">
                Email *
                <input type="email" id="email" name="email" value="{{ cadastrado.email }}" required>
                <small>Se tiver mais de um, separe por ponto e virgula (;)</small>
            </label>

            <div class="grid">
                <label for="cpf">
                    CPF
                    <input type="text" id="cpf" name="cpf" value="{{ cadastrado.cpf or '' }}"
                           placeholder="000.000.000-00">
                </label>

                <label for="telefone">
                    Telefone
                    <input type="tel" id="telefone" name="telefone" value="{{ cadastrado.telefone or '' }}"
                           placeholder="(00) 00000-0000">
                </label>
            </div>
        </fieldset>

        <fieldset>
            <legend>Endereco</legend>

            <label for="endereco">
                Endereco
                <input type="text" id="endereco" name="endereco" value="{{ cadastrado.endereco or '' }}"
                       placeholder="Rua, numero, complemento">
            </label>

            <div class="grid">
                <label for="cep">
                    CEP
                    <input type="text" id="cep" name="cep" value="{{ cadastrado.cep or '' }}"
                           placeholder="00000-000">
                </label>

                <label for="cidade">
                    Cidade
                    <input type="text" id="cidade" name="cidade" value="{{ cadastrado.cidade or '' }}">
                </label>

                <label for="estado">
                    Estado
                    <input type="text" id="estado" name="estado" value="{{ cadastrado.estado or '' }}"
                           placeholder="UF" maxlength="2">
                </label>
            </div>

            <label for="pais">
                Pais
                <input type="text" id="pais" name="pais" value="{{ cadastrado.pais or 'Brasil' }}">
            </label>
        </fieldset>

        <fieldset>
            <legend>Dados Profissionais</legend>

            <label for="profissao">
                Profissao
                <input type="text" id="profissao" name="profissao" value="{{ cadastrado.profissao or '' }}">
            </label>

            <label for="formacao">
                Formacao
                <input type="text" id="formacao" name="formacao" value="{{ cadastrado.formacao or '' }}"
                       placeholder="Ex: Graduacao, Mestrado, Doutorado">
            </label>

            <label for="instituicao">
                Instituicao
                <input type="text" id="instituicao" name="instituicao" value="{{ cadastrado.instituicao or '' }}">
            </label>
        </fieldset>

        <fieldset>
            <legend>Categoria de Filiacao *</legend>

            {% for cat in categorias %}
            <label>
                <input type="radio" name="categoria" value="{{ cat.valor }}"
                       {% if cat.selecionada %}checked{% endif %} required>
                {{ cat.label }}
            </label>
            {% endfor %}
        </fieldset>

        <button type="submit">Prosseguir para Pagamento</button>
    </form>
</article>
{% endblock %}
